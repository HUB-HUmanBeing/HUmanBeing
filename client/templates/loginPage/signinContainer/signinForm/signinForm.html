<template name="signinForm">

{{#if signinComplete}}
    {{>encryptionLoader tasks=signinComplete}}
{{else}}
    <form action="#" id="signinForm">
        <div class="row no-margin">
            <div class="input-field col s12 relative">
                <i class="material-icons prefix  main-color">account_circle</i>
                <input id="signinUsername" type="text"
                       class=" {{#if compare errors.signinUsername '==' 'valid'}}valid {{else }}{{#if
                               errors.signinUsername.length}}invalid{{/if}}{{/if}}">
                <label for="signinUsername">{{__ '.userNameChoice'}}</label>
                <div class="formErrorContainer">
                    {{#if isArray  errors.signinUsername}}
                        {{#each error in errors.signinUsername}}
                            <div class="formError danger-color">
                                {{error}}
                            </div>
                        {{/each}}
                    {{/if}}
                </div>

            </div>
        </div>
        <div class="flex">
            <div class="flex-auto">
                <div class="row no-margin">
                    <div class="input-field col s12">
                        <i class="material-icons prefix main-color">security</i>
                        <input id="signinPassword" type="password"
                               class=" {{#if compare errors.signinPassword '==' 'valid'}}valid {{else }}{{#if
                                       errors.signinPassword.length}}invalid{{/if}}{{/if}}">
                        <label for="signinPassword">{{__ '.passwordChoice'}}</label>
                        <div class="formErrorContainer">
                            {{#if isArray errors.signinPassword}}
                                {{#each error in errors.signinPassword}}
                                    <div class="formError danger-color">
                                        {{error}}
                                    </div>
                                {{/each}}
                            {{/if}}
                        </div>
                    </div>
                </div>
                <div class="row no-margin">
                    <div class="input-field col s12">
                        <i class="material-icons prefix  main-color">verified_user</i>
                        <input id="signinPasswordRepeat" type="password"
                               class=" {{#if compare errors.signinPasswordRepeat '==' 'valid'}}valid {{else }}{{#if
                                       errors.signinPasswordRepeat.length}}invalid{{/if}}{{/if}}">
                        <label for="signinPasswordRepeat">{{__ '.passwordRepeat'}}</label>
                        <div class="formErrorContainer">
                            {{#if isArray  errors.signinPasswordRepeat}}
                                {{#each error in errors.signinPasswordRepeat}}
                                    <div class="formError danger-color">
                                        {{error}}
                                    </div>
                                {{/each}}
                            {{/if}}
                        </div>
                    </div>
                </div>
            </div>
            {{#if passwordStrength.strength}}
                <div class="circle-container  tooltipped"
                     style=" {{#if isPhone}}width: 60px; padding-top: 40px {{else}}width: 100px ; padding:20px;{{/if}}">
                    <p class="center-align  minus-color " style="font-size: 1em ; margin: 0">Force :</p>
                    <div class="center-align  progress--circle progress--{{passwordStrength.progress}}"
                         style="margin: 5px 0px !important;">
                        <div class="progress__number {{#if compare passwordStrength.strength '>='
                                                           10}} green-text text-darken-2 strong{{else}}red-text text-darken-2{{/if}}">{{passwordStrength.strength}}
                            /10
                        </div>
                    </div>
                    <!--<p  class="center-align no-margin"><b class="focus-color">minimum : 10</b></p>-->
                </div>
            {{/if}}
        </div>
        <div class="row">
            <div class="col s12 no-padding  relative flex captcha">
                <div class="relative" style="padding: 15px 20px 0 5px">
                    {{{captcha}}}
                    <a href="#" class="microBtn {{#if
                            isDesktop}} tooltipped {{/if}}shadow main-bg waves-light waves-effect absolute"
                       data-position="top"
                       data-delay="50" data-tooltip="{{__ "submitIssue.refreshCaptcha"}}"
                       style="right: 0; top: 0" refreshCaptcha>
                        <i class="material-icons">refresh</i>
                    </a>
                </div>
                <div class="input-field flex-auto " style="margin-left: 15px">
                    <input id="SignInCaptcha" type="text" class="validate" required>
                    <label for="SignInCaptcha">{{__ "submitIssue.captcha"}}</label>
                </div>
            </div>

        </div>

        <div class="row center-align" style="margin: 15px 0 0 0">
            <button href="#" class="btn btnFocus center-align waves-effect waves-light shadow"><i
                    class="material-icons right">account_circle</i>{{__ '.accountCreate'}}
            </button>
        </div>
    </form>
{{/if}}
</template>
