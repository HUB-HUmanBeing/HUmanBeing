<template name="files">
    <div id="topic" class="full-height flex-auto cloudPage" style="{{#if isDesktop}}padding-top:10px{{/if}}">
        <div class="fixed-action-btn" style="{{#if isDesktop}}position: absolute {{/if}}">
            <a class="btn-floating btn danger-bg waves-effect waves-light addBtn btn-large shadow">
                <i class="large material-icons">add</i>
            </a>
            <ul>
                <li><a class="btn-floating newCloudItem tooltipped" data-position="left" data-delay="50"
                       data-tooltip="{{__ ".newFolder"}}" newFolder><i class="material-icons">create_new_folder</i></a></li>
                <li><a class="btn-floating newCloudItem tooltipped" data-position="left" data-delay="50"
                       data-tooltip="{{__ ".newFile"}}" newFile><i class="material-icons">insert_drive_file</i></a></li>
            </ul>
        </div>
        <div class="no-margin">
            <div class="col s12">

                <div id="topicHeader" class=" flex">
                    {{#unless isDesktop}}
                        <a href="/project/{{currentProject._id}}/forum"
                           class="btn btn-floating waves-effect waves-light "
                           style="margin-right: 10px"><i
                                class="material-icons left">arrow_back</i></a>
                    {{/unless}}
                    <div class="flex-auto elipsis left-align topicTitle">
                        {{__ "categoryList.myFiles"}}
                    </div>
                </div>

            </div>
        </div>
        <div class="row filesSize">
            <div class="col s12 relative">
                <p class="infoQuotes left-align">
                    {{__ ".projectUsing"}} <b>{{formatBytes currentProject.private.totalFilesSize}}</b> {{__ ".of"}}
                    <b>2 Go</b> {{__ ".allowed"}}
                </p>
                <div class="flex">
                    <div class="percentage shadow">{{percentage}}%</div>
                    <div class="filesSizeContainer flex-auto shadow">
                        <div class="totalFileSize" style="width: {{percentage}}%"></div>
                    </div>
                </div>


            </div>
        </div>
        <div class="row filesContainer">
            <div class="col s12 relative">
                <div class="row">

                    {{#each fileItem in files}}
                        <div class="col s6 m4 xl3 ">
                            {{>cloudFile file=fileItem index= @index}}
                        </div>
                    {{/each}}

                </div>
                <a href="" class="link center-align" seeMore>{{__ ".seeMore"}}</a>

            </div>
        </div>

        {{#if file}}

            {{>fullScreenFile file=file deletable=true}}


        {{/if}}

    </div>
</template>
